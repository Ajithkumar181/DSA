Sure! Here's a **revision note** with a **dry run** explanation for your optimized `removeDuplicates` function using a string as a stack.

---

# Revision Note: Remove Adjacent Duplicates Using String as Stack

### Problem:

Remove all adjacent duplicates from a string repeatedly until no more adjacent duplicates remain.

---

### Approach:

* Use a **string `stk` as a stack**.
* Iterate through each character `c` in the input string `s`.
* For each character:

  * If `stk` is **not empty** and the last character in `stk` (`stk.back()`) equals `c`, **pop** the last character from `stk` (this removes the adjacent duplicate pair).
  * Else, **push** `c` to the end of `stk`.
* At the end, `stk` contains the string with all adjacent duplicates removed.

---

### Code:

```cpp
class Solution {
public:
    string removeDuplicates(string s) {
        string stk;  // using string as a stack

        for (char c : s) {
            if (!stk.empty() && stk.back() == c) {
                stk.pop_back();
            } else {
                stk.push_back(c);
            }
        }

        return stk; // final string without adjacent duplicates
    }
};
```

---

### Dry Run Example:

Input: `s = "abbaca"`

| Step | Current Char `c` | Stack before operation | Condition              | Stack after operation |
| ---- | ---------------- | ---------------------- | ---------------------- | --------------------- |
| 1    | 'a'              | ""                     | Empty stack → push 'a' | "a"                   |
| 2    | 'b'              | "a"                    | 'b' != 'a' → push 'b'  | "ab"                  |
| 3    | 'b'              | "ab"                   | 'b' == 'b' → pop 'b'   | "a"                   |
| 4    | 'a'              | "a"                    | 'a' == 'a' → pop 'a'   | ""                    |
| 5    | 'c'              | ""                     | Empty stack → push 'c' | "c"                   |
| 6    | 'a'              | "c"                    | 'a' != 'c' → push 'a'  | "ca"                  |

---

**Final Stack:** `"ca"`

**Return:** `"ca"`

---

### Summary:

* The algorithm effectively removes pairs of adjacent duplicates on the fly.
* Using a string as stack makes push/pop and comparison operations easy and efficient.
* Time Complexity: **O(n)**
* Space Complexity: **O(n)** (in worst case, when no duplicates are removed)

---

Let me know if you want me to prepare revision notes with dry runs for other string or stack problems!
