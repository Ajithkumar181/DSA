Here's a **revision note with a dry run** for the given code using **HashMap** to count distinct elements in every window of size `k` in the array `arr`.

---

### 🔍 **Problem Statement**

Given an array of integers and a window size `k`, return the count of **distinct elements** in every window of size `k`.

---

### 🧠 **Concept Used:**

* Use a **sliding window** of size `k`.
* Use an **unordered\_map** (`mp`) to store frequency of elements in the current window.
* For each window:

  * Add the count of distinct elements (`mp.size()`) to the result vector.

---

### 📘 **Code Summary**

```cpp
unordered_map<int,int> mp;   // Frequency map
vector<int> res;

// First window [0...k-1]
for(int i=0;i<k;i++){
    mp[arr[i]]++;
}
res.push_back(mp.size());

// Slide the window from index k to end
int i=0;
for(int j=k;j<n;j++){
    mp[arr[i]]--;          // Remove the outgoing element
    if(mp[arr[i]]==0){
        mp.erase(arr[i]);  // Clean up zero frequency
    }
    i++;
    mp[arr[j]]++;          // Add the incoming element
    res.push_back(mp.size());
}
```

---

### 🧪 **Dry Run Example**

```cpp
arr = [1, 2, 1, 3, 4, 2, 3], k = 4
```

**Expected Output**: `[3, 4, 4, 3]`

#### Step-by-Step:

1. First Window: `[1, 2, 1, 3]`

   * Map: `{1:2, 2:1, 3:1}`
   * Distinct = `3` → `res = [3]`

2. Slide window to: `[2, 1, 3, 4]`

   * Remove `1` → `{1:1, 2:1, 3:1}`
   * Add `4` → `{1:1, 2:1, 3:1, 4:1}`
   * Distinct = `4` → `res = [3, 4]`

3. Slide to: `[1, 3, 4, 2]`

   * Remove `2` → `{1:1, 3:1, 4:1}`
   * Add `2` → `{1:1, 3:1, 4:1, 2:1}`
   * Distinct = `4` → `res = [3, 4, 4]`

4. Slide to: `[3, 4, 2, 3]`

   * Remove `1` → `1` not in map anymore
   * Add `3` → `{3:2, 4:1, 2:1}`
   * Distinct = `3` → `res = [3, 4, 4, 3]`

---

### ✅ **Time & Space Complexity**

* **Time:** `O(n)` — Each element is added/removed from map at most once.
* **Space:** `O(k)` — Map stores at most `k` elements.

---

Let me know if you'd like a version of this with **comments inside the code** or a Python equivalent.
