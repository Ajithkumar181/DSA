Here’s a **complete revision note with dry run** for the `maxSubArray` function using **Kadane’s Algorithm**. This is used to solve the **Maximum Subarray Sum** problem (Leetcode 53).

---

## ✅ Problem Statement

You are given an integer array `nums`. Your task is to find the **contiguous subarray (containing at least one number)** which has the **largest sum** and return its sum.

---

## ✅ Kadane’s Algorithm — Concept

* **`maxCur`** stores the **maximum subarray sum ending at current index**.
* **`maxEnd`** stores the **global maximum subarray sum so far**.
* At each step, decide whether to **extend the previous subarray** or **start a new subarray** from current element.

---

## ✅ Code Explanation

```cpp
int maxSubArray(vector<int>& nums) {
    int maxCur = nums[0]; // current max subarray sum ending at index i
    int maxEnd = nums[0]; // overall max subarray sum

    for(int i = 1; i < nums.size(); i++) {
        maxCur = max(maxCur + nums[i], nums[i]); // extend or restart subarray
        maxEnd = max(maxCur, maxEnd);            // update global max
    }

    return maxEnd;
}
```

---

## ✅ Dry Run

### Input:

```cpp
nums = [-2, 1, -3, 4, -1, 2, 1, -5, 4]
```

| i | nums\[i] | maxCur = max(maxCur + nums\[i], nums\[i]) | maxEnd = max(maxEnd, maxCur) |
| - | -------- | ----------------------------------------- | ---------------------------- |
| 0 | -2       | maxCur = -2                               | maxEnd = -2                  |
| 1 | 1        | maxCur = max(-2 + 1, 1) = 1               | maxEnd = max(-2, 1) = 1      |
| 2 | -3       | maxCur = max(1 + (-3), -3) = -2           | maxEnd = max(1, -2) = 1      |
| 3 | 4        | maxCur = max(-2 + 4, 4) = 4               | maxEnd = max(1, 4) = 4       |
| 4 | -1       | maxCur = max(4 + (-1), -1) = 3            | maxEnd = max(4, 3) = 4       |
| 5 | 2        | maxCur = max(3 + 2, 2) = 5                | maxEnd = max(4, 5) = 5       |
| 6 | 1        | maxCur = max(5 + 1, 1) = 6                | maxEnd = max(5, 6) = 6       |
| 7 | -5       | maxCur = max(6 + (-5), -5) = 1            | maxEnd = max(6, 1) = 6       |
| 8 | 4        | maxCur = max(1 + 4, 4) = 5                | maxEnd = max(6, 5) = 6       |

### ✅ Final Output: `6`

This corresponds to the subarray `[4, -1, 2, 1]`.

---

## ✅ Time and Space Complexity

* **Time:** O(n) — single pass through array
* **Space:** O(1) — no extra space used

---

If you want, I can also show how to **print the subarray** that gives the maximum sum.
