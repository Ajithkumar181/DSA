Sure! Here's a **complete revision note with dry run** for the **â€œMaximum Sum Submatrix in a 2D matrixâ€** problem using **Kadaneâ€™s Algorithm**.

---

## âœ… Problem Statement

Given a **2D matrix** of integers (positive, negative, or zero), find the **maximum sum rectangle (submatrix)** and optionally its position.

---

## ğŸ’¡ Key Idea: Kadaneâ€™s Algorithm in 2D

We reduce the 2D matrix problem to **multiple 1D problems**, then apply **Kadaneâ€™s Algorithm** on each.

---

### âœ… Kadane in 1D (Reminder):

Given an array:

```cpp
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
```

Kadane finds the maximum sum subarray: **\[4, -1, 2, 1] â†’ sum = 6**

---

### âœ… Kadane in 2D:

1. Fix two rows `top` and `bottom`
2. For every column, compute the sum from row `top` to `bottom`, forming a temporary 1D array
3. Apply **Kadaneâ€™s Algorithm** to this array
4. Keep track of **maximum sum** and its coordinates

---

## ğŸ“Œ Algorithm Steps:

1. Loop through all pairs of rows `(top to bottom)`
2. For each pair:

   * Create `temp[]` of size `columns`
   * For every column `col`, add values between `top` and `bottom`
   * Apply **Kadane** on `temp[]`
   * Update `maxSum` and coordinates if needed

---

## ğŸ§ª Dry Run

### Input Matrix:

```
matrix = [
    [1,  -2, -1,  4],
    [-8,  3,  4,  2],
    [3,   8, 10, -8]
]
```

### Rows = 3, Cols = 4

---

### ğŸ”„ First outer loop: `top = 0`

#### Inner loop: `bottom = 0`

* `temp = [1, -2, -1, 4]`
* Apply Kadane â†’ max sum = **4**

#### `bottom = 1`

* Add row 1 to temp â†’ `[-7, 1, 3, 6]`
* Kadane â†’ max sum = **10**

#### `bottom = 2`

* Add row 2 â†’ `[-4, 9, 13, -2]`
* Kadane â†’ max sum = **22**

ğŸ”¹ **maxSum = 22**

---

### ğŸ”„ Next outer loop: `top = 1`

#### `bottom = 1`

* `temp = [-8, 3, 4, 2]`
* Kadane â†’ sum = 9

#### `bottom = 2`

* Add row 2 â†’ `[-5, 11, 14, -6]`
* Kadane â†’ **25**

ğŸ”¹ **maxSum = 25** âœ… (update)

---

### ğŸ”„ Last outer loop: `top = 2`

#### `bottom = 2`

* `temp = [3, 8, 10, -8]`
* Kadane â†’ sum = **21**

---

## âœ… Final Output:

* **Maximum sum:** 25
* **Submatrix coordinates:**

  * Top-left: `(1, 1)`
  * Bottom-right: `(2, 2)`

---

## ğŸ§  Time & Space Complexity:

| Item               | Complexity |
| ------------------ | ---------- |
| Time (Worst case)  | O(RÂ² Ã— C)  |
| Space (temp array) | O(C)       |

---

## âœ… Summary:

| Step               | Technique               |
| ------------------ | ----------------------- |
| Compress rows      | Row-wise temp array     |
| Kadane on 1D       | Max subarray in temp\[] |
| Track max + coords | Compare & store result  |

---

Would you like a **visual diagram** or **animated dry run step** to go along with this?
