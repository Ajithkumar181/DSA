Sure! Here's a **complete revision note with dry run** for the **“Maximum Sum Submatrix in a 2D matrix”** problem using **Kadane’s Algorithm**.

---

## ✅ Problem Statement

Given a **2D matrix** of integers (positive, negative, or zero), find the **maximum sum rectangle (submatrix)** and optionally its position.

---

## 💡 Key Idea: Kadane’s Algorithm in 2D

We reduce the 2D matrix problem to **multiple 1D problems**, then apply **Kadane’s Algorithm** on each.

---

### ✅ Kadane in 1D (Reminder):

Given an array:

```cpp
[-2, 1, -3, 4, -1, 2, 1, -5, 4]
```

Kadane finds the maximum sum subarray: **\[4, -1, 2, 1] → sum = 6**

---

### ✅ Kadane in 2D:

1. Fix two rows `top` and `bottom`
2. For every column, compute the sum from row `top` to `bottom`, forming a temporary 1D array
3. Apply **Kadane’s Algorithm** to this array
4. Keep track of **maximum sum** and its coordinates

---

## 📌 Algorithm Steps:

1. Loop through all pairs of rows `(top to bottom)`
2. For each pair:

   * Create `temp[]` of size `columns`
   * For every column `col`, add values between `top` and `bottom`
   * Apply **Kadane** on `temp[]`
   * Update `maxSum` and coordinates if needed

---

## 🧪 Dry Run

### Input Matrix:

```
matrix = [
    [1,  -2, -1,  4],
    [-8,  3,  4,  2],
    [3,   8, 10, -8]
]
```

### Rows = 3, Cols = 4

---

### 🔄 First outer loop: `top = 0`

#### Inner loop: `bottom = 0`

* `temp = [1, -2, -1, 4]`
* Apply Kadane → max sum = **4**

#### `bottom = 1`

* Add row 1 to temp → `[-7, 1, 3, 6]`
* Kadane → max sum = **10**

#### `bottom = 2`

* Add row 2 → `[-4, 9, 13, -2]`
* Kadane → max sum = **22**

🔹 **maxSum = 22**

---

### 🔄 Next outer loop: `top = 1`

#### `bottom = 1`

* `temp = [-8, 3, 4, 2]`
* Kadane → sum = 9

#### `bottom = 2`

* Add row 2 → `[-5, 11, 14, -6]`
* Kadane → **25**

🔹 **maxSum = 25** ✅ (update)

---

### 🔄 Last outer loop: `top = 2`

#### `bottom = 2`

* `temp = [3, 8, 10, -8]`
* Kadane → sum = **21**

---

## ✅ Final Output:

* **Maximum sum:** 25
* **Submatrix coordinates:**

  * Top-left: `(1, 1)`
  * Bottom-right: `(2, 2)`

---

## 🧠 Time & Space Complexity:

| Item               | Complexity |
| ------------------ | ---------- |
| Time (Worst case)  | O(R² × C)  |
| Space (temp array) | O(C)       |

---

## ✅ Summary:

| Step               | Technique               |
| ------------------ | ----------------------- |
| Compress rows      | Row-wise temp array     |
| Kadane on 1D       | Max subarray in temp\[] |
| Track max + coords | Compare & store result  |

---

Would you like a **visual diagram** or **animated dry run step** to go along with this?
